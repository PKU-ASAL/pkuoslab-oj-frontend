(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[11],{1039:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(38),c=a(122),i=a(957),o=a(958),s=a(960),l=a(60),d=a(951),m=a(954),u=a(1261),j=a.n(u),b=a(58),p=a(983),g=a(163),O=a(1238),h=a(1109),v=a(956),f=a(123),x=a.n(f),y=a(1361),S=a(1335),C=a(240),w=a(84),I=a(980),z=a(948),N=a(5);var E=Object(z.a)()(Object(r.e)((e=>{var t;const[a,r]=Object(n.useState)(void 0);return Object(n.useEffect)((()=>{c.a.getMyGroup().then((e=>{r(e)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"ListPage",children:Object(N.jsx)(I.a,{useList:!0,title:e.t("HomeworkList"),API:async t=>c.a.getContestList({...t,...e.apiProp}),size:"small",getForm:t=>Object(N.jsxs)(d.b,{size:30,children:[void 0===e.useGroup&&void 0!==a&&Object(N.jsx)(p.a.Item,{label:e.t("group"),name:"groupId",children:Object(N.jsxs)(g.a,{onChange:t,style:{width:200},defaultValue:"",children:[Object(N.jsx)(g.a.Option,{value:"",children:e.t("All")}),a.map((e=>Object(N.jsxs)(g.a.Option,{value:e.groupId,children:[e.groupId,": ",e.title]})))]})}),Object(N.jsx)(p.a.Item,{label:e.t("contestRules"),name:"mode",children:Object(N.jsxs)(g.a,{onChange:t,style:{width:80},defaultValue:"",children:[Object(N.jsx)(g.a.Option,{value:"",children:e.t("All")}),Object(N.jsx)(g.a.Option,{value:"acm",children:"ACM"}),Object(N.jsx)(g.a.Option,{value:"ioi",children:"IOI"}),Object(N.jsx)(g.a.Option,{value:"oi",children:"OI"})]})})]}),useFormBtn:!1,defaultPageSize:15,renderItem:t=>Object(N.jsx)(O.b.Item,{children:Object(N.jsx)(O.b.Item.Meta,{avatar:Object(N.jsxs)("div",{style:{},children:[Object(N.jsx)("div",{style:{textAlign:"center",fontSize:"30px"},children:x()(parseInt(t.gmtStart)).format("DD")}),Object(N.jsx)("div",{style:{color:"#aaa"},children:x()(parseInt(t.gmtStart)).format("YYYY-MM")})]}),title:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("a",{type:"text",style:{marginRight:10},onClick:()=>{e.history.push(w.g+"/contest/"+t.contestId)},children:t.contestTitle}),"private"===t.features.openness&&Object(N.jsx)(y.a,{style:{color:"red"}}),"protected"===t.features.openness&&Object(N.jsx)(y.a,{style:{color:"orange"}})]}),description:Object(N.jsxs)(d.b,{size:10,children:["acm"===t.features.mode&&Object(N.jsx)("span",{style:{backgroundColor:"#3676b6",color:"#fff",padding:"0 10px",borderRadius:".75rem"},children:"ACM"}),"ioi"===t.features.mode&&Object(N.jsx)("span",{style:{backgroundColor:"#ea517f",color:"#fff",padding:"0 10px",borderRadius:".75rem"},children:"IOI"}),"oi"===t.features.mode&&Object(N.jsx)("span",{style:{backgroundColor:"#f8df72",color:"#fff",padding:"0 10px",borderRadius:".75rem"},children:"OI"}),Object(N.jsx)(h.a,{type:"vertical"}),Object(N.jsx)("span",{children:x()(parseInt(t.gmtStart)).format("HH:mm:ss")}),Object(N.jsx)(h.a,{type:"vertical"}),Object(N.jsxs)("span",{children:[Object(N.jsx)(m.a,{})," ",Object(C.a)(t.gmtStart,t.gmtEnd)]}),Object(N.jsx)(h.a,{type:"vertical"}),Object(N.jsxs)("span",{children:[Object(N.jsx)(S.a,{})," ",t.participantNum]}),Object(N.jsx)(h.a,{type:"vertical"}),"end"===Object(C.b)(t.gmtStart,t.gmtEnd)&&Object(N.jsx)(v.a,{color:"green",children:e.t("end")}),"running"===Object(C.b)(t.gmtStart,t.gmtEnd)&&Object(N.jsx)(v.a,{color:"orange",children:e.t("running")}),0===t.isPublic&&Object(N.jsx)(v.a,{color:"red",children:e.t("private")})]})})},t.contestId),name:null!==(t=e.name)&&void 0!==t?t:"ContestList"})})})})));class P extends n.Component{constructor(e,t){super(e,t),this.getUpComing=()=>{c.a.getUpcomingContest({groupId:void 0}).then((e=>{this.setState({upComing:e})}))},this.state={upComing:void 0},this.getUpComing()}render(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{textAlign:"center",margin:"0 auto"},children:Object(N.jsx)("div",{style:{textAlign:"left",maxWidth:"1500px",margin:"0 auto"},children:Object(N.jsxs)(i.a,{gutter:20,children:[Object(N.jsx)(o.a,{span:17,children:Object(N.jsx)(E,{})}),Object(N.jsx)(o.a,{span:7,children:!Object(b.c)(this.state.upComing)&&Object(N.jsxs)(s.a,{title:this.props.t("ComingSoon"),className:"smallBodyPadding bodyCenter",children:[Object(N.jsx)("div",{children:Object(N.jsx)(l.a,{type:"link",size:"large",onClick:()=>{this.props.history.push(w.g+"/contest/"+this.state.upComing.contestId)},children:this.state.upComing.contestTitle})}),Object(N.jsx)("div",{children:Object(N.jsxs)(d.b,{children:[Object(N.jsx)(m.a,{}),Object(N.jsx)(j.a,{className:"contestTimer",value:parseInt(this.state.upComing.gmtStart),format:this.props.t("TimeFormat"),onFinish:this.getUpComing})]})})]})})]})})})})}}t.default=Object(z.a)()(Object(r.e)(P))},1238:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(21),r=a(3),c=a(4),i=a(10),o=a(16),s=a(2),l=a.n(s),d=a(0),m=a.n(d),u=a(36),j=a(181),b=a(949),p=a(136),g=a(301),O=a(238),h=a(110),v=a(432),f=a(23),x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},y=function(e,t){var a=e.prefixCls,n=e.children,i=e.actions,o=e.extra,s=e.className,j=e.colStyle,b=x(e,["prefixCls","children","actions","extra","className","colStyle"]),p=Object(d.useContext)(I),g=p.grid,O=p.itemLayout,h=Object(d.useContext)(u.b).getPrefixCls,y=h("list",a),S=i&&i.length>0&&m.a.createElement("ul",{className:"".concat(y,"-item-action"),key:"actions"},i.map((function(e,t){return m.a.createElement("li",{key:"".concat(y,"-item-action-").concat(t)},e,t!==i.length-1&&m.a.createElement("em",{className:"".concat(y,"-item-action-split")}))}))),C=g?"div":"li",w=m.a.createElement(C,Object(r.a)({},b,g?{}:{ref:t},{className:l()("".concat(y,"-item"),Object(c.a)({},"".concat(y,"-item-no-flex"),!("vertical"===O?o:!function(){var e;return d.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&d.Children.count(n)>1}())),s)}),"vertical"===O&&o?[m.a.createElement("div",{className:"".concat(y,"-item-main"),key:"content"},n,S),m.a.createElement("div",{className:"".concat(y,"-item-extra"),key:"extra"},o)]:[n,S,Object(f.a)(o,{key:"extra"})]);return g?m.a.createElement(v.a,{ref:t,flex:1,style:j},w):w},S=Object(d.forwardRef)(y);S.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,c=e.title,i=e.description,o=x(e,["prefixCls","className","avatar","title","description"]),s=(0,Object(d.useContext)(u.b).getPrefixCls)("list",t),j=l()("".concat(s,"-item-meta"),a),b=m.a.createElement("div",{className:"".concat(s,"-item-meta-content")},c&&m.a.createElement("h4",{className:"".concat(s,"-item-meta-title")},c),i&&m.a.createElement("div",{className:"".concat(s,"-item-meta-description")},i));return m.a.createElement("div",Object(r.a)({},o,{className:j}),n&&m.a.createElement("div",{className:"".concat(s,"-item-meta-avatar")},n),(c||i)&&b)};var C=S,w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},I=d.createContext({});I.Consumer;function z(e){var t,a=e.pagination,s=void 0!==a&&a,m=e.prefixCls,v=e.bordered,f=void 0!==v&&v,x=e.split,y=void 0===x||x,S=e.className,C=e.children,z=e.itemLayout,N=e.loadMore,E=e.grid,P=e.dataSource,F=void 0===P?[]:P,k=e.size,L=e.header,T=e.footer,D=e.loading,M=void 0!==D&&D,R=e.rowKey,A=e.renderItem,V=e.locale,K=w(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),J=s&&"object"===Object(o.a)(s)?s:{},B=d.useState(J.defaultCurrent||1),U=Object(i.a)(B,2),H=U[0],Y=U[1],G=d.useState(J.defaultPageSize||10),Q=Object(i.a)(G,2),W=Q[0],q=Q[1],X=d.useContext(u.b),Z=X.getPrefixCls,$=X.renderEmpty,_=X.direction,ee={},te=function(e){return function(t,a){Y(t),q(a),s&&s[e]&&s[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),re=Z("list",m),ce=M;"boolean"===typeof ce&&(ce={spinning:ce});var ie=ce&&ce.spinning,oe="";switch(k){case"large":oe="lg";break;case"small":oe="sm"}var se=l()(re,(t={},Object(c.a)(t,"".concat(re,"-vertical"),"vertical"===z),Object(c.a)(t,"".concat(re,"-").concat(oe),oe),Object(c.a)(t,"".concat(re,"-split"),y),Object(c.a)(t,"".concat(re,"-bordered"),f),Object(c.a)(t,"".concat(re,"-loading"),ie),Object(c.a)(t,"".concat(re,"-grid"),!!E),Object(c.a)(t,"".concat(re,"-something-after-last-item"),!!(N||s||T)),Object(c.a)(t,"".concat(re,"-rtl"),"rtl"===_),t),S),le=Object(r.a)(Object(r.a)(Object(r.a)({},{current:1,total:0}),{total:F.length,current:H,pageSize:W}),s||{}),de=Math.ceil(le.total/le.pageSize);le.current>de&&(le.current=de);var me=s?d.createElement("div",{className:"".concat(re,"-pagination")},d.createElement(g.a,Object(r.a)({},le,{onChange:ae,onShowSizeChange:ne}))):null,ue=Object(n.a)(F);s&&F.length>(le.current-1)*le.pageSize&&(ue=Object(n.a)(F).splice((le.current-1)*le.pageSize,le.pageSize));var je=Object.keys(E||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),be=Object(p.a)(je),pe=d.useMemo((function(){for(var e=0;e<h.b.length;e+=1){var t=h.b[e];if(be[t])return t}}),[be]),ge=d.useMemo((function(){if(E){var e=pe&&E[pe]?E[pe]:E.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===E||void 0===E?void 0:E.column,pe]),Oe=ie&&d.createElement("div",{style:{minHeight:53}});if(ue.length>0){var he=ue.map((function(e,t){return function(e,t){return A?((a="function"===typeof R?R(e):R?e[R]:e.key)||(a="list-item-".concat(t)),ee[t]=a,A(e,t)):null;var a}(e,t)})),ve=d.Children.map(he,(function(e,t){return d.createElement("div",{key:ee[t],style:ge},e)}));Oe=E?d.createElement(b.a,{gutter:E.gutter},ve):d.createElement("ul",{className:"".concat(re,"-items")},he)}else C||ie||(Oe=function(e,t){return d.createElement("div",{className:"".concat(e,"-empty-text")},V&&V.emptyText||t("List"))}(re,$||j.a));var fe=le.position||"bottom",xe=d.useMemo((function(){return{grid:E,itemLayout:z}}),[JSON.stringify(E),z]);return d.createElement(I.Provider,{value:xe},d.createElement("div",Object(r.a)({className:se},K),("top"===fe||"both"===fe)&&me,L&&d.createElement("div",{className:"".concat(re,"-header")},L),d.createElement(O.a,Object(r.a)({},ce),Oe,C),T&&d.createElement("div",{className:"".concat(re,"-footer")},T),N||("bottom"===fe||"both"===fe)&&me))}z.Item=C;t.b=z},980:function(e,t,a){"use strict";var n=a(960),r=a(983),c=a(951),i=a(60),o=a(1238),s=a(959),l=a(0),d=a(84),m=a(73),u=a(948),j=a(38),b=a(293),p=a(58),g=a(1253),O=a(5);t.a=Object(m.b)((e=>{var t;const a=e.UserReducer,n=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:{...n.tableData}}}),(e=>({setTableInfo:(t,a)=>e({type:"setTableInfo",name:t,data:a}),setDataSource:(t,a)=>e({type:"setDataSource",data:t,name:a,add:!1})})))(Object(u.a)()(Object(j.e)((e=>{var t,a;const[m,u]=Object(l.useState)(0),[j,h]=Object(l.useState)(),[v,f]=Object(l.useState)(!0),[x,y]=Object(l.useState)(1),[S,C]=Object(l.useState)(Object(p.a)(e.defaultPageSize,d.h)),[w,I]=Object(l.useState)(),[z,N]=Object(l.useState)(0),E=t=>{h(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},P=(t,a,n,r)=>{var c,i,o,s,l;const d=null===(c=e.tableData[e.name])||void 0===c?void 0:c.tableInfo;var m,j,b,p;void 0!==d&&(void 0===r&&void 0!==d.moreProps&&F.setFieldsValue(d.moreProps),t=null!==(m=t)&&void 0!==m?m:d.pageNow,a=null!==(j=a)&&void 0!==j?j:d.pageSize,n=null!==(b=n)&&void 0!==b?b:d.searchKey,r=null!==(p=r)&&void 0!==p?p:d.moreProps);let g=null!==(i=t)&&void 0!==i?i:x,O=null!==(o=a)&&void 0!==o?o:S,h=null!==(s=n)&&void 0!==s?s:w,v=null!==(l=r)&&void 0!==l?l:F.getFieldsValue();y(g),C(O),I(h),f(!0),e.API({pageNow:g,pageSize:O,searchKey:h,...v}).then((t=>{null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?E(e.APIRowsTransForm(t.rows)):E(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(u(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:g,pageSize:O,searchKey:h,moreProps:v})):(u(O*t.totalPage),e.name&&e.setTableInfo(e.name,{total:O*t.totalPage,pageNow:g,pageSize:O,searchKey:h,moreProps:v})),f(!1)}))};Object(l.useEffect)((()=>{F.setFieldsValue(e.initRequestProps),P()}),[e.name]);const[F]=Object(g.a)(),k=()=>{const e=F.getFieldsValue();"{}"!==JSON.stringify(e)&&P(1,S,void 0,e)},L=()=>{var t;const a=F.getFieldsValue();F.resetFields();const n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});const r=F.getFieldsValue();JSON.stringify(a)!==JSON.stringify(r)&&P(1,S,void 0,void 0)};return Object(l.useEffect)((()=>{var t;const a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&z!==a)if(a<0){var n;N(-a),h(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{N(a);const e=F.getFieldsValue();P(x,S,w,e)}}),[e.tableData,z]),Object(O.jsxs)(O.Fragment,{children:[e.useList&&Object(O.jsx)(n.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(O.jsxs)(O.Fragment,{children:[!0===e.search&&Object(O.jsx)(b.a,{placeholder:e.t("searchUser"),onSearch:e=>{I(e),y(1);const t=F.getFieldsValue();P(1,S,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(O.jsxs)(r.a,{form:F,children:[e.getForm(k),e.useFormBtn&&Object(O.jsxs)(c.b,{style:{marginLeft:"30px"},size:20,children:[Object(O.jsx)(i.a,{type:"primary",onClick:k,children:"\u7b5b\u9009"}),Object(O.jsx)(i.a,{htmlType:"button",onClick:L,children:"\u91cd\u7f6e"})]})]})]}),children:Object(O.jsx)(o.b,{grid:e.grid,itemLayout:"vertical",loading:v,size:e.size,dataSource:j,renderItem:e.renderItem,pagination:{onChange:(e,t)=>{P(e,t)},current:x,pageSize:S,total:m,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(p.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(O.jsx)(n.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(O.jsxs)(O.Fragment,{children:[!0===e.search&&Object(O.jsx)(b.a,{placeholder:"\u641c\u7d22",onSearch:e=>{I(e),y(1),P(1,S,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(O.jsxs)(r.a,{form:F,children:[e.getForm(k),Object(O.jsxs)(c.b,{style:{marginLeft:"30px"},size:20,children:[Object(O.jsx)(i.a,{type:"primary",onClick:k,children:e.t("filtering")}),Object(O.jsx)(i.a,{htmlType:"button",onClick:L,children:e.t("Reset")})]})]})]}),children:Object(O.jsx)(s.a,{rowKey:e.rowKey,loading:v,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:j,pagination:null!==(a=e.pagination)&&void 0!==a?a:{onChange:(e,t)=>{P(e,t)},current:x,pageSize:S,total:m,hideOnSinglePage:!1,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(p.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))}}]);
//# sourceMappingURL=11.c6e49dc6.chunk.js.map